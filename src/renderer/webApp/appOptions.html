<!DOCTYPE html>
<html lang="en">

<head>  
  <link rel="stylesheet" href="webApp.css">     
  <link rel="icon" type="image/x-icon" href="../renderer/assets/images/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="../renderer/assets/images/favicon.png">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">  
  <title>Options</title> 
</head>

<body onload='initialize()'>
  <section class="button-container">

    <!-- First row -->
    <div class="button-row two-items">
      <input type=image id="appPlaylistData" name="appPlaylistData" src='../renderer/assets/images/app data.png' onclick="PrepMessage('information','data')">      
      <input type=image id="QRCode" name="QRCode" src='../renderer/assets/images/app qrcode.png' onclick="location.href='/appQRCode';">      
    </div>

    <!-- Second row -->
    <div class="button-row two-items">
      <input type=image id="refresh" name="refresh" src='../renderer/assets/images/app refresh.png'  onclick="PrepMessage('refresh')">
      <input type=image id="HiddenImages" name="HiddenImages" src='../renderer/assets/images/app unhide.png' >    
    </div>

    <!-- Third row -->
    <div class="button-row two-items">
      <input type=image id="editExif" name="editExif" src='app exif data.png' onclick="location.href='/appItemMetaData';">
      <input type=image id="appPlaylistSettings" name="appPlaylistSettings" src='../renderer/assets/images/app settings.png' onclick="location.href='/appPlaylistSettings';">    
    </div>

    <!-- Fourth row -->
    <div class="button-row two-items">
      <input type=image id="appPlaylists" name="appPlaylists" src='../renderer/assets/images/app new.png' onclick="location.href='/appPlaylists';">
      <input type=image id="MarkedFiles" name="MarkedFiles" src='../renderer/assets/images/app notifications.png'  onclick="location.href='/appNotifications';">    
    </div>
    
    <!-- Fifth row -->
     <div class="button-row">
      <input type=image id="home" name="home" src='home.png' onclick="location.href='/';">
    </div>
  
  </section>


<script type='text/javascript' src='appServer.js'></script>
<script src="../../common/customAlert.js"></script> 
<script>

  let hideImagesState = 0; // 1 = hide, 0 = show

  async function initialize() {
    let globalData = await PrepMessage('app_readDB');
    hideImagesState = globalData.hideImages
    hideImagesState = parseInt(hideImagesState,10);             
    if (hideImagesState){               
      document.getElementById('HiddenImages').setAttribute('src', 'app hide.png');             
    }else{
      document.getElementById('HiddenImages').setAttribute('src', 'app unhide.png');             
    }    
  } 

  document.getElementById('HiddenImages').addEventListener('click', async function() {
    hideImagesState = hideImagesState === 1 ? 0 : 1;
    if (hideImagesState == 1) { // hidestate true / false
      this.src = 'app hide.png'; // hide true
    } else {
      this.src = 'app unhide.png';
    }
    let savedata = {
      hideImages: hideImagesState
    };      
    await PrepMessage("app_writeDB", savedata);
    PrepMessage("refresh");  
  });


</script>
</body>  
</html>
